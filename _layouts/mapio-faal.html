<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<title>FAAL</title>
	<script src='https://api.mapbox.com/mapbox-gl-js/v0.38.0/mapbox-gl.js'></script>
	<link href='https://api.mapbox.com/mapbox-gl-js/v0.38.0/mapbox-gl.css' rel='stylesheet' />
	<link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,700">
  <link rel="stylesheet" href="/css/normalize.css">
  <link rel="stylesheet" href="/css/kube.css">
  <link rel="stylesheet" type="text/css" href="/fonts/font-awesome-4.7.0/css/font-awesome.min.css" />
        <script src="https://www.museoarteyciudad.com/js/vendor/modernizr-2.8.3.min.js"></script>
	<style>
	  #map { position:absolute; top:0; bottom:0; width:100%; }
		.marker {
    display: block;
    border: 5px solid #ffffff;
    border-radius: 50%;
    cursor: pointer;
    padding: 0;
		}


	</style>
</head>
<body style="font-family:'Open Sans';">

{{ content }}

<script>
mapboxgl.accessToken = 'pk.eyJ1IjoiZmVybmFueiIsImEiOiJXYjQ2UUlNIn0._uGtTdC4VawOLOi5UGiThw';

var geojson = {
    "type": "FeatureCollection",
    "features": [
        {
            "type": "Feature",
            "properties": {
                "message": "Parque Infantil Ferroviaria - Pintura, Dibujo, Música y Danza",
                "iconSize": [90, 90]
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -79.8996,
                    -2.1863
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "message": "Malecón de la Ferroviaria - Pintura",
                "iconSize": [70, 70]
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -79.9007,
                    -2.18720
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "message": "Parque Lineal del Estero Salado - Escultura",
                "iconSize": [70, 70]
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -79.9009,
                    -2.183411
                ]
            }
        },
				{
            "type": "Feature",
            "properties": {
                "message": "Ágora Safari- Plaza Rodolfo Baquerizo Moreno - Teatro",
                "iconSize": [70, 70]
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -79.89675,
                    -2.1860
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "message": "Plaza de la Salud - Declamación, Títeres",
                "iconSize": [70, 70]
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -79.9002,
                    -2.18800
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "message": "La Bota - Terraza sur Malecón del Salado - Artes alternativas, Fotografía y Cortometraje",
                "iconSize": [70, 70]
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -79.89850,
                    -2.18690
                ]
            }
        }
    ]
};

var map = new mapboxgl.Map({
container: 'map',
style: 'mapbox://styles/fernanz/cj6ppjbei2qwy2rnsi7basfxd',
center: [-79.899,-2.186], // starting position
zoom: 17 // starting zoom
});

// add markers to map
geojson.features.forEach(function(marker) {
    // create a DOM element for the marker
    var el = document.createElement('div');
    el.className = 'marker';
    el.style.backgroundImage = 'url(/img/masks.svg)';
		el.style.backgroundSize = 'cover';
    el.style.width = marker.properties.iconSize[0] + 'px';
    el.style.height = marker.properties.iconSize[1] + 'px';

    el.addEventListener('click', function() {
        window.alert(marker.properties.message);
    });

    // add marker to map
    new mapboxgl.Marker(el)
        .setLngLat(marker.geometry.coordinates)
        .addTo(map);
});

</script>
</body>
</html>
